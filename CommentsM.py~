import pymongo
from pymongo import MongoClient
import datetime
import time

client = MongoClient()
db = client.test_database
posts = db.posts

def makeComment(ID, body, uname):
    client = MongoClient()
    db = client.test_database
    posts = db.posts
    I = ID
    B = body
    P = 0
    D = time.strftime("%x %X")
    U = uname
    post = {"postID":I,
            "body":B,
            "points": P,
            "date":D,
            "user":U}
    posts.insert(post)


def retrieveComments(ID):
    client = MongoClient()
    db = client.test_database
    posts = db.posts
    result = posts.find_one({"postID":ID})
    return result
    #TODO: What does this return? A dict? What is it supposed to return?

def deleteComments(ID):
    client = MongoClient()
    db = client.test_database
    posts = db.posts
    posts.remove({"postID":ID})
    
